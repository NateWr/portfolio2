---
import type { ImageMetadata } from 'astro';
import Screenshot from '../components/Screenshot.astro';
import Arrow from './Arrow.astro';


interface Props {
  title: string;
  client: string;
  date: string;
  url: string;
  image: ImageMetadata;
  color: string;
  alt?: string;
}

const { title, client, date, url, image, color, alt = '' } = Astro.props;
---

<a
  class="
    portfolio-item
    relative
    shrink-0
    p-16
  "
  href={url}
  style={`
    --color: ${color};
  `}
>
  <Screenshot
    image={image}
    alt={alt}
  />
  <div
    class="
      mt-4
      flex
      items-center
      gap-4
      text-base
      leading-tight
    "
  >
    <div>
      <h3
        class="
          font-bold
        "
      >
        {title}
      </h3>
      <div>{client}</div>
    </div>
    <div class="relative flex-grow">
      <Arrow />
    </div>
  </div>
  <div
    class="
      mt-2
      text-sm
      font-bold
      uppercase
    "
  >
    {date}
  </div>
  <slot />
</a>

<style>
  .portfolio-item:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 470px;
    inset: 0;
    z-index: -1;
    mask: radial-gradient(farthest-side, black 75%, transparent);
    backdrop-filter: blur(3px);
  }
</style>